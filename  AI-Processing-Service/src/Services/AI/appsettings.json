{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "Microsoft.Hosting.Lifetime": "Information",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console"
      },
      {
        "Name": "File",
        "Args": {
          "path": "Logs/AIService-.log",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 7,
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [
      "FromLogContext",
      "WithMachineName",
      "WithThreadId"
    ],
    "Properties": {
      "Application": "AI-Processing-Service"
    }
  },
  "Kestrel": {
    "Endpoints": {
      "Http": {
        "Url": "http://localhost:5002"
      },
      "Grpc": {
        "Url": "http://localhost:5003",
        "Protocols": "Http2"
      }
    }
  },
  "AllowedHosts": "*",
  "FeatureManagement": {
    "EnablePredictiveMaintenance": true,
    "EnableAnomalyDetection": true,
    "EnableNlqProcessing": true,
    "EnableEdgeModelDeployment": true,
    "EnableMlflowIntegration": false,
    "EnableAzureMLIntegration": false,
    "UseSpaCyNlp": true,
    "UseAzureCognitiveNlp": false
  },
  "DataServiceOptions": {
    "GrpcUrl": "http://localhost:5004"
  },
  "ModelOptions": {
    "ModelStorageBasePath": "/models", // For local storage if DataService not primary; DataService will be primary store
    "DefaultPredictiveMaintenanceModelId": "pm_default_v1",
    "DefaultAnomalyDetectionModelId": "ad_default_v1",
    "ModelCacheEnabled": true,
    "ModelCacheExpirationMinutes": 60
  },
  "NlpProviderOptions": {
    "ActiveProvider": "SpaCy", // "SpaCy" or "AzureCognitiveServices"
    "SpaCy": {
      "ModelName": "en_core_web_sm", // Ensure this model is downloaded and accessible
      "Host": "http://localhost:8080" // If using spaCy server
    },
    "AzureCognitiveServices": {
      "ApiKey": "YOUR_AZURE_LANGUAGE_API_KEY",
      "Endpoint": "YOUR_AZURE_LANGUAGE_ENDPOINT",
      "LanguageResourceName": "YOUR_AZURE_LANGUAGE_RESOURCE_NAME", // CLU project name
      "DeploymentName": "YOUR_AZURE_CLU_DEPLOYMENT_NAME" // CLU deployment name
    }
  },
  "MLOpsOptions": {
    "PlatformType": "None", // "MLflow", "AzureML", "None"
    "MLflow": {
      "TrackingUri": "http://localhost:5000", // MLflow tracking server URI
      "RegistryUri": "http://localhost:5000" // MLflow model registry URI (often same as tracking)
    },
    "AzureML": {
      "SubscriptionId": "YOUR_AZURE_SUBSCRIPTION_ID",
      "ResourceGroupName": "YOUR_AZURE_RESOURCE_GROUP",
      "WorkspaceName": "YOUR_AZURE_ML_WORKSPACE_NAME"
    }
  },
  "Security": {
    "ApiKeyHeaderName": "X-API-KEY",
    "InternalServiceApiKey": "A_VERY_STRONG_INTERNAL_API_KEY_CHANGE_ME"
  }
}